<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wealth Command - Financial Planner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
        <div class="container-fluid">
            <span class="navbar-brand fw-bold text-primary">Wealth Command</span>
            <div class="d-flex align-items-center">
                <div class="sync-status-container">
                    <div class="sync-status-icon sync-status-success">
                        <div class="sync-status-tooltip">All data synced</div>
                    </div>
                </div>
                <button class="btn btn-outline-secondary btn-sm" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content container-fluid py-3">
        <!-- Financial Planner Tab -->
        <div id="tab-financial-planner" class="tab-page">
            <div class="financial-planner-container">
                
                <!-- Enhanced Salary Calculator -->
                <div class="salary-calculator-card">
                    <div class="salary-calculator-header">
                        <i class="fas fa-calculator me-2"></i>Enhanced Salary & Income Calculator
                    </div>
                    <div class="salary-input-grid">
                        <div class="input-group">
                            <label class="input-group-text">Salary Type</label>
                            <select class="form-select" id="salaryType">
                                <option value="annual">Annual Salary</option>
                                <option value="monthly">Monthly Salary</option>
                                <option value="hourly">Hourly Rate</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="baseSalary" placeholder="Base Amount" value="0">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-clock"></i></span>
                            <input type="number" class="form-control" id="hoursPerWeek" placeholder="Hours/Week" value="40">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">Weeks/Year</span>
                            <input type="number" class="form-control" id="weeksPerYear" placeholder="Weeks" value="52">
                        </div>
                    </div>
                    
                    <div class="salary-input-grid">
                        <div class="input-group">
                            <label class="input-group-text">Tax Rate</label>
                            <input type="number" class="form-control" id="taxRate" placeholder="Tax %" value="25">
                            <span class="input-group-text">%</span>
                        </div>
                        <div class="input-group">
                            <label class="input-group-text">For Month</label>
                            <select class="form-select" id="salaryMonth">
                                <option value="">Select Month</option>
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <div class="form-check form-switch mt-2">
                                <input class="form-check-input" type="checkbox" id="recurringSalary">
                                <label class="form-check-label" for="recurringSalary">Recurring Monthly</label>
                            </div>
                        </div>
                        <div class="input-group">
                            <button class="btn btn-success w-100" id="addSalary">
                                <i class="fas fa-plus me-2"></i>Add to Forecast
                            </button>
                        </div>
                    </div>
                    
                    <div class="salary-summary">
                        <div class="row text-center">
                            <div class="col-md-3">
                                <small class="text-muted">Hourly Rate</small>
                                <div class="salary-net-amount" id="hourlyRate">$0.00</div>
                            </div>
                            <div class="col-md-3">
                                <small class="text-muted">Monthly Net</small>
                                <div class="salary-net-amount" id="monthlyNet">$0.00</div>
                            </div>
                            <div class="col-md-3">
                                <small class="text-muted">Annual Net</small>
                                <div class="salary-net-amount" id="annualNet">$0.00</div>
                            </div>
                            <div class="col-md-3">
                                <small class="text-muted">Tax Amount</small>
                                <div class="salary-net-amount text-danger" id="taxAmount">$0.00</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Cash Flow Forecast -->
                <div class="cash-flow-card">
                    <div class="cash-flow-header">
                        <i class="fas fa-chart-line me-2"></i>Enhanced Cash Flow Forecast
                    </div>
                    
                    <div class="forecast-controls">
                        <div class="row align-items-center">
                            <div class="col-md-4">
                                <label class="form-label">Forecast Period</label>
                                <select class="form-select" id="forecastPeriod">
                                    <option value="12">1 Year (12 months)</option>
                                    <option value="24">2 Years (24 months)</option>
                                    <option value="36">3 Years (36 months)</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Starting Balance</label>
                                <input type="number" class="form-control" id="startingBalance" value="0">
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-primary w-100 mt-4" id="updateForecast">
                                    <i class="fas fa-sync me-2"></i>Update Forecast
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Cash Flow Table -->
                    <div class="table-responsive">
                        <table class="table table-hover" id="cashFlowTable">
                            <thead class="table-light sticky-top">
                                <tr>
                                    <th>Month</th>
                                    <th>Salary Income</th>
                                    <th>Other Income</th>
                                    <th>Total Income</th>
                                    <th>Expenses</th>
                                    <th>Net Flow</th>
                                    <th>Balance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="cashFlowBody">
                                <!-- Dynamic content will be inserted here -->
                            </tbody>
                        </table>
                    </div>

                    <div class="scenario-controls">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Quick Adjustments</h6>
                                <div class="scenario-item">
                                    <label class="form-label">Income Change (%)</label>
                                    <input type="range" class="form-range scenario-slider" id="incomeAdjustment" min="-50" max="50" value="0">
                                    <span class="scenario-impact" id="incomeImpact">0%</span>
                                </div>
                                <div class="scenario-item">
                                    <label class="form-label">Expense Change (%)</label>
                                    <input type="range" class="form-range scenario-slider" id="expenseAdjustment" min="-50" max="50" value="0">
                                    <span class="scenario-impact" id="expenseImpact">0%</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Summary</h6>
                                <div class="row text-center">
                                    <div class="col-6">
                                        <small class="text-muted">End Balance</small>
                                        <div class="fw-bold text-success" id="forecastEndBalance">$0</div>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Avg Monthly</small>
                                        <div class="fw-bold text-info" id="forecastAvgMonthly">$0</div>
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary w-100 mt-2" id="exportForecast">
                                    <i class="fas fa-download me-2"></i>Export CSV
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Existing Expense Planner -->
                <div class="expense-planner-card">
                    <div class="expense-planner-header">
                        <i class="fas fa-chart-pie me-2"></i>Expense Planner
                    </div>
                    <div class="expense-list">
                        <div class="expense-item">
                            <div class="expense-details">
                                <div class="fw-bold">Rent/Mortgage</div>
                                <div class="expense-date">Monthly</div>
                            </div>
                            <div class="expense-amount">$1,500.00</div>
                        </div>
                        <div class="expense-item">
                            <div class="expense-details">
                                <div class="fw-bold">Utilities</div>
                                <div class="expense-date">Monthly</div>
                            </div>
                            <div class="expense-amount">$300.00</div>
                        </div>
                        <div class="expense-item">
                            <div class="expense-details">
                                <div class="fw-bold">Groceries</div>
                                <div class="expense-date">Weekly</div>
                            </div>
                            <div class="expense-amount">$200.00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other existing tabs (minimal content to show structure) -->
        <div id="tab-dashboard" class="tab-page d-none">
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Net Wealth</h5>
                            <div id="netWealth" class="fw-bold text-success">$0.00</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Total Income</h5>
                            <div id="totalIncome" class="fw-bold text-primary">$0.00</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Total Expense</h5>
                            <div id="totalExpense" class="fw-bold text-danger">$0.00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-transactions" class="tab-page d-none">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Transactions</h5>
                    <p>Transaction management content here...</p>
                </div>
            </div>
        </div>

        <div id="tab-analytics" class="tab-page d-none">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Analytics</h5>
                    <p>Analytics content here...</p>
                </div>
            </div>
        </div>

        <div id="tab-debt-manager" class="tab-page d-none">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Debt Manager</h5>
                    <p>Debt management content here...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav id="fixedNavBar" class="navbar navbar-expand">
        <div class="container-fluid justify-content-around">
            <button class="nav-btn" data-tab="tab-dashboard">
                <i class="fas fa-home"></i>
                <small>Dashboard</small>
            </button>
            <button class="nav-btn" data-tab="tab-transactions">
                <i class="fas fa-exchange-alt"></i>
                <small>Transactions</small>
            </button>
            <button class="nav-btn active" data-tab="tab-financial-planner">
                <i class="fas fa-chart-line"></i>
                <small>Planner</small>
            </button>
            <button class="nav-btn" data-tab="tab-analytics">
                <i class="fas fa-chart-bar"></i>
                <small>Analytics</small>
            </button>
            <button class="nav-btn" data-tab="tab-debt-manager">
                <i class="fas fa-credit-card"></i>
                <small>Debts</small>
            </button>
        </div>
    </nav>

    <!-- Quick Add FAB -->
    <button class="quick-add-fab" data-bs-toggle="modal" data-bs-target="#quickAddModal">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Quick Add Modal (minimal version) -->
    <div class="modal fade quick-add-modal" id="quickAddModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Quick Add Transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Quick add form content here...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
